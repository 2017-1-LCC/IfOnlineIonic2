<ion-header>
  <ion-navbar align-title="center">
    <ion-title>Cadastrar Grupo</ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="login-content" padding>
  <div class="login-box">
    <form #newGroupForm="ngForm">
      <ion-row>
        <ion-col>
          <ion-list>

            <ion-item>
              <ion-label floating>Disciplina: </ion-label>
              <ion-input type="text" [(ngModel)]="group.discipline" name="disciple" required></ion-input>
            </ion-item>

            <ion-item>
              <ion-label floating>Objetivo da Disciplina: </ion-label>
             <ion-textarea rows="4" type="text" [(ngModel)]="group.description" name="description" required></ion-textarea>
            </ion-item>

            <ion-item>
              <ion-label floating>Turma</ion-label>
              <ion-input type="text" [(ngModel)]="group.academicClass" name="academicClass" required></ion-input>
            </ion-item>

            <ion-item>
              <ion-label floating>Inicício da Disciplina</ion-label>
              <ion-datetime displayFormat="DD/MM/YYYY" pickerFormat="DD/MMM/YYYY" [(ngModel)]="group.dateStart" name="dateStart" required></ion-datetime>
            </ion-item>
            
            <ion-item>
              <ion-label floating>Encerramento da Disciplina</ion-label>
              <ion-datetime displayFormat="DD/MM/YYYY" pickerFormat="DD/MMM/YYYY" [(ngModel)]="group.dateEnd" name="dateEnd" required></ion-datetime>
            </ion-item>

            <ion-item>
              <ion-label style="text-align: center">Horário das Aulas</ion-label>
              <ion-icon item-right name="contacts" (click)="addClassSchedule()"></ion-icon>
            </ion-item>

            <div *ngFor="let classSchedule of group.classSchedule">
              <div *ngIf="!classSchedule.removed">
                <ion-icon item-left name="remove-circle" (click)="removeClassSchedule(classSchedule)"></ion-icon>
                <ion-item>
                  <ion-label floating>Dia na samana</ion-label>
                  <ion-select [(ngModel)]="classSchedule.dayOfWeek" name="dayOfWeek">
                    <ion-option value="SEGUNDA">Segunda-Feira</ion-option>
                    <ion-option value="TERÇA">Terça-Feira</ion-option>
                    <ion-option value="QUARTA">Quarta-Feira</ion-option>
                    <ion-option value="QUINTA">Quinta-Feira</ion-option>
                    <ion-option value="SEXTA">Sexta-Feira</ion-option>
                    <ion-option value="SÁBADO">Sábado</ion-option>
                  </ion-select>
                </ion-item>

                <ion-item>
                  <ion-label floating>Hora de início</ion-label>
                  <ion-datetime displayFormat="HH:mm" pickerFormat="HH:mm" [(ngModel)]="classSchedule.startTime" name="startTime" required></ion-datetime>
                </ion-item>

                <ion-item>
                  <ion-label floating>Hora de termino</ion-label>
                  <ion-datetime displayFormat="HH:mm" pickerFormat="HH:mm" [(ngModel)]="classSchedule.endTime" name="endTime" required></ion-datetime>
                </ion-item>
              </div>
            </div>

            <ion-item>
              <ion-label style="text-align: center">Provas da Disciplina</ion-label>
              <ion-icon item-right name="contacts" (click)="addProof()"></ion-icon>
            </ion-item>

            <div *ngFor="let proof of group.proof">
                <div *ngIf="!proof.removed">
                <ion-icon item-left name="remove-circle" (click)="removeProof(proof)"></ion-icon>
                <ion-item>
                    <ion-label floating>Assuntos da prova</ion-label>
                    <ion-textarea rows="4" type="text" [(ngModel)]="proof.subjects" name="subjects" required></ion-textarea>
                </ion-item>

                <ion-item>
                    <ion-label floating>Data da prova</ion-label>
                    <ion-datetime displayFormat="DD/MMM/YYYY" pickerFormat="DD/MMM/YYYY" [(ngModel)]="proof.dateProof" name="startTime" required></ion-datetime>
                </ion-item>

                <ion-item>
                    <ion-label floating>Valor em pontos</ion-label>
                    <ion-input type="number" [(ngModel)]="proof.value" name="value" required></ion-input>
                </ion-item>
                </div>
            </div>

          </ion-list>
        </ion-col>
      </ion-row>
      
      <ion-row>
        <ion-col class="signup-col">
          <button ion-button class="submit-btn" full (click)="create()" [disabled]="!newGroupForm.form.valid">Cadastrar</button>
        </ion-col>
      </ion-row>
      
    </form>
  </div>
</ion-content>